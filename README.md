https://github.com/ShinQWE/web-larek-frontend

# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура проекта

Проект основан на модуле «Объектно-ориентированное программирование (ООП) и архитектура приложений». Он использует шаблон Модель-Представление-Презентатор (MVP)

MVP:

- Model : эта часть приложения работает с данными, выполняет расчеты и управляет всеми бизнес-процессами.
- View : эта часть приложения отображает пользовательский интерфейс и данные модели на экране.
- Presenter : эта часть приложения обеспечивает соединение и выступает в качестве посредника между моделью и представлением.

## Типы данных

В проекте используется несколько типов данных и интерфейсов, в том числе:

- IPage: Интерфейс главной страницы.
- CategoryType: Введите категорию продукта.
- ICardProduct: Интерфейс карточки товара.
- IBasket: Интерфейс, описывающий содержимое корзины.
- IOrderForm: Интерфейс адреса доставки.
- IContactsForm: Интерфейс для контактной информации.
- ISuccess: Интерфейс для завершения заказа.
- AppData: Интерфейс для данных приложения.

## Компоненты данных

Класс AppData отвечает за данные всех функций, реализованных в проекте. Содержит методы управления корзиной, каталогом, полями заказа и контактами.

## Базовый код

Базовый код включает в себя несколько классов:

- EventEmitter: базовый класс, который позволяет компонентам подписываться на события или прослушивать их и реагировать на них.
- api: базовый класс для взаимодействия с API и сервером.
- Component: класс представления, от которого наследуются все остальные классы представлений.
- Model: базовая модель, позволяющая отличить ее от простых объектов данных.

## Вид

Компоненты представления включают в себя несколько классов:

- Modal: Класс для управления поведением модальных окон.
- Form: класс для управления формами.

Эти классы наследуются от Component класса и содержат методы для управления соответствующими элементами.

## Взаимодействие между компонентами

Взаимодействие между компонентами в проекте Web-larek основано на архитектуре Model-View-Presenter (MVP).
Модель-представление-презентатор (MVP)

- Model : это часть приложения, которая работает с данными, проводит расчеты и управляет всеми бизнес-процессами. В этом проекте AppData за модель отвечает класс. Он содержит методы управления данными, относящимися к полям корзины, каталога, заказа и контактов.
- View : это часть приложения, которая отображает пользовательский интерфейс и данные модели на экране. Компоненты представления в этом проекте включают такие классы Modal, как Form, и другие, которые наследуются от Component класса. Эти классы содержат методы управления отображением и поведением различных элементов интерфейса.
- Presenter : это часть приложения, которая обеспечивает соединение и выступает посредником между моделью и представлением. Ведущий явно не определен в предоставленном тексте, но обычно он отвечает за координацию взаимодействия между моделью и представлением.

## Взаимодействие

- Класс AppData(модель) управляет данными и состоянием приложения. Он предоставляет методы для управления данными и их извлечения, такие как очистка корзины, получение списка корзин, настройка каталога и многое другое.
- Компоненты представления ( Modal, Formи т. д.) отображают данные модели на экране. Они также фиксируют взаимодействия и события пользователей, такие как изменения ввода и отправки форм.
- Presenter будет принимать взаимодействия пользователя, зафиксированные представлением, обрабатывать их по мере необходимости (возможно, используя методы, предоставляемые моделью), а затем обновлять представление, чтобы отразить любые изменения в данных или состоянии приложения.
- Класс EventEmitter можно использовать для облегчения связи между моделью, представлением и презентатором. Компоненты могут подписываться на события или прослушивать события и реагировать на них.
- Класс api взаимодействует с сервером, обрабатывая отправку и получение данных.
- Класс Component является базовым классом, от которого наследуются все остальные классы представлений. Он предоставляет общие методы для управления отображением и поведением элементов интерфейса.
- Класс Model представляет собой базовую модель, позволяющую отличить его от простых объектов данных. Он предоставляет метод уведомления всех об изменении модели.

Таким образом, взаимодействие между компонентами в этом проекте представляет собой цикл потока данных от модели к представлению, взаимодействия пользователя с представлением к презентатору и обновлений от презентатора обратно к модели и представлению.

## Внедрение процессов

Проект Web-larek основан на принципах объектно-ориентированного программирования (ООП) и архитектуры приложений. Он использует шаблон (MVP), который включает в себя:

- model : обрабатывает данные, расчеты и бизнес-процессы.
- view : отображает пользовательский интерфейс и данные модели на экране.
- presenter : действует как посредник между моделью и представлением.

В проекте используется несколько типов данных и интерфейсов, включая IPage, CategoryType, ICardProduct, IBasket, IOrderForm, IContactsForm, ISuccess и AppData. Класс AppData отвечает за данные всех функций, реализованных в проекте. Включает в себя методы управления корзиной, каталогом, полями заказа и полями контактов.

Базовый код включает в себя несколько классов: EventEmitter, api, Componentи Model. Компоненты представления включают в себя несколько классов: Modal и Form. Каждый из этих классов включает методы для управления соответствующими компонентами. Например, класс Modal включает методы для настройки содержимого модального окна, открытия и закрытия окна, а также рендеринга данных. Класс Form включает методы для управления изменениями полей формы, настройки проверки полей, настройки сообщений об ошибках и отображения формы в новом состоянии.

## Событие

Проект Web-larek использует класс EventEmitter для обработки событий. Этот класс действует как центральный брокер событий, позволяя компонентам подписываться на события, прослушивать их и реагировать соответствующим образом.

# Класс EventEmitter

Класс EventEmitter является базовым классом для обработки событий в проекте. Он предоставляет методы для настройки обработчиков событий, их удаления, инициирования событий с данными и прослушивания всех событий.

Вот методы, предоставляемые классом EventEmitter:

- on<T extends object>(eventName: EventName, callback: (event: T) => void): этот метод устанавливает обработчик событий для определенного события.
- off(eventName: EventName, callback: Subscriber): этот метод удаляет обработчик события из определенного события.
- emit<T extends object>(eventName: string, data?: T): этот метод инициирует событие с данными.
- onAll(callback: (event: EmitterEvent) => void): этот метод устанавливает обработчик событий для всех событий.
- offAll(): этот метод удаляет все обработчики событий.
- trigger: этот метод создает триггер обратного вызова, который инициирует событие при вызове.

Эти методы обеспечивают гибкий и эффективный способ обработки событий в приложении.
